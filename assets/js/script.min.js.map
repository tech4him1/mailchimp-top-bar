{"version":3,"sources":["script.js"],"names":["require","undefined","e","t","n","r","s","o","u","a","i","f","Error","code","l","exports","call","length","1","module","css","element","styles","property","style","initObjectProperties","properties","value","newObject","copyObjectProperties","object","animated","getAttribute","toggle","animation","fn","nowVisible","display","offsetLeft","clone","cloneNode","cleanup","removeAttribute","setAttribute","hiddenStyles","visibleStyles","computedStyles","window","getComputedStyle","overflowY","animate","opacity","targetStyles","last","Date","initialStyles","currentStyles","propSteps","parseFloat","to","current","duration","tick","step","increment","newValue","now","timeSinceLastTick","done","suffix","requestAnimationFrame","setTimeout","2","throttle","threshhold","scope","deferTimer","context","this","args","arguments","clearTimeout","apply","Bar","wrapperEl","config","init","noJsField","barEl","querySelector","parentElement","removeChild","isBottomBar","insertBefore","iconEl","originalBodyPadding","parseInt","document","body","paddingBottom","nextElementSibling","paddingTop","responseEl","lineHeight","barHeight","innerHTML","icons","show","addEventListener","calculateDimensions","cookies","read","fadeResponse","visible","bodyPadding","origBarPosition","position","origBarDisplay","clientHeight","elementsWidth","firstElementChild","children","clientWidth","className","replace","minHeight","manual","erase","animator","hide","create","cookieLength","is_submitted","is_success","createElement","./animator.js","./cookies.js","3","name","days","expires","date","setTime","getTime","toGMTString","cookie","encodeURIComponent","nameEQ","ca","split","c","charAt","substring","indexOf","decodeURIComponent","4","ready","readyState","getElementById","MailChimpTopBar","mctb","./bar.js"],"mappings":"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","file":"script.min.js","sourcesContent":["(function () { var require = undefined; var module = undefined; var exports = undefined; var define = undefined;(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nvar duration = 320;\r\n\r\nfunction css(element, styles) {\r\n    for(var property in styles) {\r\n        element.style[property] = styles[property];\r\n    }\r\n}\r\n\r\nfunction initObjectProperties(properties, value) {\r\n    var newObject = {};\r\n    for(var i=0; i<properties.length; i++) {\r\n        newObject[properties[i]] = value;\r\n    }\r\n    return newObject;\r\n}\r\n\r\nfunction copyObjectProperties(properties, object) {\r\n    var newObject = {}\r\n    for(var i=0; i<properties.length; i++) {\r\n        newObject[properties[i]] = object[properties[i]];\r\n    }\r\n    return newObject;\r\n}\r\n\r\n/**\r\n * Checks if the given element is currently being animated.\r\n *\r\n * @param element\r\n * @returns {boolean}\r\n */\r\nfunction animated(element) {\r\n    return !! element.getAttribute('data-animated');\r\n}\r\n\r\n/**\r\n * Toggles the element using the given animation.\r\n *\r\n * @param element\r\n * @param animation Either \"fade\" or \"slide\"\r\n * @param fn Callback\r\n */\r\nfunction toggle(element, animation, fn) {\r\n    var nowVisible = element.style.display != 'none' || element.offsetLeft > 0;\r\n\r\n    // create clone for reference\r\n    var clone = element.cloneNode(true);\r\n    var cleanup = function() {\r\n        element.removeAttribute('data-animated');\r\n        element.setAttribute('style', clone.getAttribute('style'));\r\n        element.style.display = nowVisible ? 'none' : '';\r\n        \r\n        // call callback\r\n        fn && fn();\r\n    };\r\n\r\n    // store attribute so everyone knows we're animating this element\r\n    element.setAttribute('data-animated', \"true\");\r\n\r\n    // toggle element visiblity right away if we're making something visible\r\n    if( ! nowVisible ) {\r\n        element.style.display = '';\r\n    }\r\n\r\n    var hiddenStyles, visibleStyles;\r\n\r\n    // animate properties\r\n    if( animation === 'slide' ) {\r\n        hiddenStyles = initObjectProperties([\"height\", \"borderTopWidth\", \"borderBottomWidth\", \"paddingTop\", \"paddingBottom\"], 0);\r\n        visibleStyles = {};\r\n\r\n        if( ! nowVisible ) {\r\n            var computedStyles = window.getComputedStyle(element);\r\n            visibleStyles = copyObjectProperties([\"height\", \"borderTopWidth\", \"borderBottomWidth\", \"paddingTop\", \"paddingBottom\"], computedStyles);\r\n            css(element, hiddenStyles);\r\n        }\r\n\r\n        // don't show a scrollbar during animation\r\n        element.style.overflowY = 'hidden';\r\n        animate(element, nowVisible ? hiddenStyles : visibleStyles, cleanup);\r\n    } else {\r\n        hiddenStyles = { opacity: 0 };\r\n        visibleStyles = { opacity: 1 };\r\n        if( ! nowVisible ) {\r\n            css(element, hiddenStyles);\r\n        }\r\n\r\n        animate(element, nowVisible ? hiddenStyles : visibleStyles, cleanup);\r\n    }\r\n}\r\n\r\nfunction animate(element, targetStyles, fn) {\r\n    var last = +new Date();\r\n    var initialStyles = window.getComputedStyle(element);\r\n    var currentStyles = {};\r\n    var propSteps = {};\r\n\r\n    for(var property in targetStyles) {\r\n        // make sure we have an object filled with floats\r\n        targetStyles[property] = parseFloat(targetStyles[property]);\r\n\r\n        // calculate step size & current value\r\n        var to = targetStyles[property];\r\n        var current = parseFloat(initialStyles[property]);\r\n\r\n        // is there something to do?\r\n        if( current == to ) {\r\n            delete targetStyles[property];\r\n            continue;\r\n        }\r\n\r\n        propSteps[property] = ( to - current ) / duration; // points per second\r\n        currentStyles[property] = current;\r\n    }\r\n\r\n    var tick = function() {\r\n        var now = +new Date();\r\n        var timeSinceLastTick = now - last;\r\n        var done = true;\r\n\r\n        var step, to, increment, newValue;\r\n        for(var property in targetStyles ) {\r\n            step = propSteps[property];\r\n            to = targetStyles[property];\r\n            increment =  step * timeSinceLastTick;\r\n            newValue = currentStyles[property] + increment;\r\n\r\n            if( step > 0 && newValue >= to || step < 0 && newValue <= to ) {\r\n                newValue = to;\r\n            } else {\r\n                done = false;\r\n            }\r\n\r\n            // store new value\r\n            currentStyles[property] = newValue;\r\n\r\n            var suffix = property !== \"opacity\" ? \"px\" : \"\";\r\n            element.style[property] = newValue + suffix;\r\n        }\r\n\r\n        last = +new Date();\r\n\r\n        // keep going until we're done for all props\r\n        if(!done) {\r\n            (window.requestAnimationFrame && requestAnimationFrame(tick)) || setTimeout(tick, 32);\r\n        } else {\r\n            // call callback\r\n            fn && fn();\r\n        }\r\n    };\r\n\r\n    tick();\r\n}\r\n\r\n\r\nmodule.exports = {\r\n    'toggle': toggle,\r\n    'animate': animate,\r\n    'animated': animated\r\n};\n},{}],2:[function(require,module,exports){\n'use strict';\r\n\r\nvar cookies = require('./cookies.js');\r\nvar animator = require('./animator.js');\r\n\r\nfunction throttle(fn, threshhold, scope) {\r\n    threshhold || (threshhold = 250);\r\n    var last,\r\n        deferTimer;\r\n    return function () {\r\n        var context = scope || this;\r\n\r\n        var now = +new Date,\r\n            args = arguments;\r\n        if (last && now < last + threshhold) {\r\n            // hold on to it\r\n            clearTimeout(deferTimer);\r\n            deferTimer = setTimeout(function () {\r\n                last = now;\r\n                fn.apply(context, args);\r\n            }, threshhold);\r\n        } else {\r\n            last = now;\r\n            fn.apply(context, args);\r\n        }\r\n    };\r\n}\r\n\r\nfunction Bar( wrapperEl, config ) {\r\n\r\n    // Vars & State\r\n    var barEl = wrapperEl.querySelector('.mctb-bar');\r\n    var iconEl = document.createElement('span');\r\n    var responseEl = wrapperEl.querySelector('.mctb-response');\r\n    var visible = false,\r\n        originalBodyPadding = 0,\r\n        barHeight = 0,\r\n        bodyPadding = 0,\r\n        isBottomBar = ( config.position === 'bottom' );\r\n\r\n\r\n    // Functions\r\n    function init() {\r\n\r\n        // remove \"no_js\" field\r\n        var noJsField = barEl.querySelector('input[name=\"_mctb_no_js\"]');\r\n        noJsField.parentElement.removeChild(noJsField);\r\n\r\n        // save original bodyPadding\r\n        if( isBottomBar ) {\r\n            wrapperEl.insertBefore( iconEl, barEl );\r\n            originalBodyPadding = ( parseInt( document.body.style.paddingBottom )  || 0 );\r\n        } else {\r\n            wrapperEl.insertBefore( iconEl, barEl.nextElementSibling );\r\n            originalBodyPadding = ( parseInt( document.body.style.paddingTop )  || 0 );\r\n        }\r\n\r\n        // fix response height\r\n        if( responseEl ) {\r\n            responseEl.style.lineHeight = barHeight + \"px\";\r\n        }\r\n\r\n        // configure icon\r\n        iconEl.setAttribute('class', 'mctb-close');\r\n        iconEl.innerHTML = config.icons.show;\r\n        iconEl.addEventListener('click', toggle);\r\n\r\n        calculateDimensions();\r\n\r\n        // Show the bar straight away?\r\n        if( cookies.read( \"mctb_bar_hidden\" ) != 1 ) {\r\n            show()\r\n        }\r\n\r\n        // fade response 4 seconds after showing bar\r\n        window.setTimeout(fadeResponse, 4000);\r\n        window.addEventListener('resize', throttle(function(){\r\n            calculateDimensions();\r\n            // reset body padding when visible.\r\n            if (visible) {\r\n                document.body.style[isBottomBar ? 'paddingBottom' : 'paddingTop'] = bodyPadding;\r\n            }\r\n        }));\r\n    }\r\n\r\n    function calculateDimensions() {\r\n\r\n        // make sure bar is visible\r\n        var origBarPosition = barEl.style.position;\r\n        var origBarDisplay = barEl.style.display;\r\n        barEl.style.display = 'block';\r\n        barEl.style.position = 'relative';\r\n\r\n        // calculate real bar height\r\n        barHeight = barEl.clientHeight;\r\n\r\n        // get real bar height (if it were shown)\r\n        bodyPadding = ( originalBodyPadding + barHeight ) + \"px\";\r\n\r\n        // would the close icon fit inside the bar?\r\n        var elementsWidth = 0;\r\n        for( var i=0; i<barEl.firstElementChild.children.length; i++ ) {\r\n            elementsWidth+= barEl.firstElementChild.children[i].clientWidth;\r\n        }\r\n\r\n        wrapperEl.className = wrapperEl.className.replace('mctb-icon-inside-bar', '');\r\n        if( elementsWidth + iconEl.clientWidth + 200 < barEl.clientWidth ) {\r\n            wrapperEl.className += ' mctb-icon-inside-bar';\r\n\r\n            // since icon is now absolutely positioned, we need to set a min height\r\n            if( isBottomBar ) {\r\n                wrapperEl.style.minHeight = iconEl.clientHeight + \"px\";\r\n            }\r\n        }\r\n\r\n        // reset bar again, we're done measuring\r\n        barEl.style.display = origBarDisplay;\r\n        barEl.style.position = origBarPosition;\r\n    }\r\n\r\n    /**\r\n     * Show the bar\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    function show( manual ) {\r\n\r\n        if( visible ) {\r\n            return false;\r\n        }\r\n        \r\n        if( manual ) {\r\n            cookies.erase( 'mctb_bar_hidden' );\r\n            animator.toggle(barEl, \"slide\");\r\n\r\n            // animate body padding\r\n            var styles = {};\r\n            styles[isBottomBar ? 'paddingBottom' : 'paddingTop'] = bodyPadding;\r\n            animator.animate(document.body, styles);\r\n        } else {\r\n            // Add bar height to <body> padding\r\n            barEl.style.display = 'block';\r\n            document.body.style[isBottomBar ? 'paddingBottom' : 'paddingTop'] = bodyPadding;\r\n        }\r\n\r\n        iconEl.innerHTML = config.icons.hide;\r\n        visible = true;\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Hide the bar\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    function hide(manual) {\r\n        if( ! visible ) {\r\n            return false;\r\n        }\r\n\r\n        if( manual ) {\r\n            cookies.create( \"mctb_bar_hidden\", 1, config.cookieLength );\r\n            animator.toggle(barEl, \"slide\");\r\n\r\n            // animate body padding\r\n            var styles = {};\r\n            styles[isBottomBar ? 'paddingBottom' : 'paddingTop'] = originalBodyPadding;\r\n            animator.animate(document.body, styles);\r\n        } else {\r\n            barEl.style.display = 'none';\r\n            document.body.style[isBottomBar ? 'paddingBottom' : 'paddingTop'] = originalBodyPadding + \"px\";\r\n        }\r\n\r\n        visible = false;\r\n        iconEl.innerHTML = config.icons.show;\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Fade out the response message\r\n     */\r\n    function fadeResponse() {\r\n        if( responseEl ) {\r\n\r\n            animator.toggle(responseEl, \"fade\");\r\n\r\n            // auto-dismiss bar if we're good!\r\n            if( config.is_submitted && config.is_success ) {\r\n                window.setTimeout( function() { hide(true); }, 1000 );\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Toggle visibility of the bar\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    function toggle() {\r\n        if(animator.animated(barEl)) {\r\n            return false;\r\n        }\r\n\r\n        return visible ? hide(true) : show(true);\r\n    }\r\n\r\n    // Code to run upon object instantiation\r\n    init();\r\n\r\n    // Return values\r\n    return {\r\n        element: wrapperEl,\r\n        toggle: toggle,\r\n        show: show,\r\n        hide: hide\r\n    }\r\n}\r\n\r\nmodule.exports = Bar;\n},{\"./animator.js\":1,\"./cookies.js\":3}],3:[function(require,module,exports){\n'use strict';\r\n\r\n/**\r\n * Creates a cookie\r\n *\r\n * @param name\r\n * @param value\r\n * @param days\r\n */\r\nfunction create(name, value, days) {\r\n    var expires;\r\n\r\n    if (days) {\r\n        var date = new Date();\r\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\r\n        expires = \"; expires=\" + date.toGMTString();\r\n    } else {\r\n        expires = \"\";\r\n    }\r\n    document.cookie = encodeURIComponent(name) + \"=\" + encodeURIComponent(value) + expires + \"; path=/\";\r\n}\r\n\r\n/**\r\n * Reads a cookie\r\n *\r\n * @param name\r\n * @returns {*}\r\n */\r\nfunction read(name) {\r\n    var nameEQ = encodeURIComponent(name) + \"=\";\r\n    var ca = document.cookie.split(';');\r\n    for (var i = 0; i < ca.length; i++) {\r\n        var c = ca[i];\r\n        while (c.charAt(0) === ' ') c = c.substring(1, c.length);\r\n        if (c.indexOf(nameEQ) === 0) return decodeURIComponent(c.substring(nameEQ.length, c.length));\r\n    }\r\n    return null;\r\n}\r\n\r\n/**\r\n * Erases a cookie\r\n *\r\n * @param name\r\n */\r\nfunction erase(name) {\r\n    create(name, \"\", -1);\r\n}\r\n\r\nmodule.exports = {\r\n    'read': read,\r\n    'create': create,\r\n    'erase': erase\r\n};\n},{}],4:[function(require,module,exports){\n'use strict';\r\n\r\nvar Bar = require('./bar.js');\r\n\r\n// Init bar\r\nready(function() {\r\n    var element = document.getElementById('mailchimp-top-bar');\r\n    window.MailChimpTopBar = new Bar( element, window.mctb );\r\n});\r\n\r\n/**\r\n * DOMContentLoaded (IE8 compatible)\r\n *\r\n * @param fn\r\n */\r\nfunction ready(fn) {\r\n    if (document.readyState != 'loading'){\r\n        fn();\r\n    } else if (document.addEventListener) {\r\n        document.addEventListener('DOMContentLoaded', fn);\r\n    }\r\n}\r\n\r\n\r\n\n},{\"./bar.js\":2}]},{},[4]);\n; })();"],"sourceRoot":"/source/"}